window.fdc=window.fdc||{},jQuery(function(a){function c(e){e.find('[type="file"]').each(function(e,t){0==t.files.length&&(i.delete(t.name),i.append(t.name,o.str.no_file_added))})}var i=null,o="undefined"==typeof _fdcVars?{}:_fdcVars;fdc.ajax={settings:o.ajax||{},post:function(e,t){var n;if(e instanceof a?(i=new FormData(e.get(0)),c(e)):e instanceof String?(i=new FormData(a(e).get(0)),c(a(e))):e instanceof Object&&(i=e),null===i)throw new Error("Data is missing.");return i instanceof FormData?(i.append("action","fdc_action"),i.append("cmd","save"),i.append("check",o.ajax.nonce),i.append("fdcUtility",!0),t=a.extend({cache:!1,processData:!1,contentType:!1},t)):i={action:"fdc_action",cmd:"save",check:o.ajax.nonce,fdcUtility:!0,data:e},t=a.extend({type:"POST",url:o.ajax.url,context:this,data:i},t),(e=(n=a.Deferred(function(n){t.success&&n.done(t.success),t.error&&n.fail(t.error),delete t.success,delete t.error,delete t.form,n.jqXHR=a.ajax(t).done(function(e){var t;"function"!=typeof(t=e)&&"object"!=typeof t||!t?n.rejectWith(this,[e]):n[e.success?"resolveWith":"rejectWith"](this,[e.data])}).fail(function(){n.rejectWith(this,arguments)})})).promise()).abort=function(){return n.jqXHR.abort(),this},e}}});